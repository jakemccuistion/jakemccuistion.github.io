(function(a){a.fn.wtGallery=function(r){var n=100;var h=5000;var f=800;var s=800;var m=600;var l="normal";var b=50;var o="top";var e="bottom";var d=0.66;var q=25;var p=new Array(25);p.fade=0;p["vert.tl"]=1;p["vert.tr"]=2;p["vert.bl"]=3;p["vert.br"]=4;p["fade.left"]=5;p["fade.right"]=6;p["alt.left"]=7;p["alt.right"]=8;p["blinds.left"]=9;p["blinds.right"]=10;p["vert.random.fade"]=11;p["horz.tl"]=12;p["horz.tr"]=13;p["horz.bl"]=14;p["horz.br"]=15;p["fade.top"]=16;p["fade.bottom"]=17;p["alt.top"]=18;p["alt.bottom"]=19;p["blinds.top"]=20;p["blinds.bottom"]=21;p["horz.random.fade"]=22;p.random=23;p.none=24;function c(z,C,H,E,y,D){var A=C;var v=H;var I=E;var F;var u;var L=null;var G=function(){var w=Math.ceil(A/I);F=new Array(w);var N="";for(var M=0;M<w;M++){N+="<div class='vpiece' id='"+M+"'></div>"}z.addToScreen(N);u=a("div.vpiece",z.$el);u.each(function(O){F[O]=a(this).css({left:(O*I),width:I,height:v})})};this.clear=function(){clearInterval(L);u.stop().css({"z-index":2,opacity:0})};this.displayContent=function(M,w){K(M,w);if(w==p["vert.random.fade"]){J(M)}else{x(M,w)}};var K=function(M,w){if(w==p["vert.tl"]||w==p["vert.tr"]){B(M,-v,0,I)}else{if(w==p["vert.bl"]||w==p["vert.br"]){B(M,v,0,I)}else{if(w==p["alt.left"]||w==p["alt.right"]){t(M,0)}else{if(w==p["blinds.left"]||w==p["blinds.right"]){B(M,0,1,0)}else{B(M,0,0,I)}}}}};var B=function(N,Q,R,T){var w=N.src;var S=(v-N.height)/2;var M=(A-N.width)/2;for(var O=0;O<F.length;O++){var P=((-O*I)+M);a(F[O]).css({background:y+" url('"+w+"') "+P+"px "+S+"px no-repeat",backgroundPositionX:P+"px",backgroundPositionY:S+"px",opacity:R,top:Q,width:T,"z-index":3})}};var t=function(R,M){var Q=R.src;var P=(v-R.height)/2;var O=(A-R.width)/2;for(var N=0;N<F.length;N++){var S=((-N*I)+O);var w=(N%2)==0?-v:v;a(F[N]).css({background:y+" url('"+Q+"') "+S+"px "+P+"px no-repeat",backgroundPositionX:S+"px",backgroundPositionY:P+"px",opacity:M,top:w,width:I,"z-index":3})}};var J=function(N){var M=0;var w=F.length;u.each(function(O){a(this).delay(Math.random()*D).animate({opacity:1},D,"",function(){M++;if(M==w){z.setComplete(N)}})})};var x=function(O,N){var w=F.length-1;if(N==p["vert.tl"]||N==p["vert.bl"]||N==p["fade.left"]||N==p["blinds.left"]||N==p["alt.left"]){var M=0;L=setInterval(function(){a(F[M++]).animate({top:0,opacity:1,width:I},D,"",function(){if(a(this).attr("id")==w){z.setComplete(O)}});if(M==F.length){clearInterval(L)}},n)}else{var M=w;L=setInterval(function(){a(F[M--]).animate({top:0,opacity:1,width:I},D,"",function(){if(a(this).attr("id")==0){z.setComplete(O)}});if(M<0){clearInterval(L)}},n)}};G()}function j(A,C,H,E,z,D){var B=C;var v=H;var I=E;var F;var u;var L=null;var G=function(){F=new Array(Math.ceil(v/I));var M="";for(var w=0;w<F.length;w++){M+="<div class='hpiece' id='"+w+"'></div>"}A.addToScreen(M);u=a("div.hpiece",A.$el);u.each(function(N){F[N]=a(this).css({top:(N*I),width:B,height:I})})};this.clear=function(){clearInterval(L);u.stop().css({"z-index":2,opacity:0})};this.displayContent=function(M,w){K(M,w);if(w==p["horz.random.fade"]){J(M)}else{y(M,w)}};var K=function(M,w){if(w==p["horz.tr"]||w==p["horz.br"]){t(M,B,0,I)}else{if(w==p["horz.tl"]||w==p["horz.bl"]){t(M,-B,0,I)}else{if(w==p["alt.top"]||w==p["alt.bottom"]){x(M,0)}else{if(w==p["blinds.top"]||w==p["blinds.bottom"]){t(M,0,1,0)}else{t(M,0,0,I)}}}}};var t=function(P,O,R,T){var w=P.src;var S=(v-P.height)/2;var M=(B-P.width)/2;for(var Q=0;Q<F.length;Q++){var N=((-Q*I)+S);a(F[Q]).css({background:z+" url('"+w+"') "+M+"px "+N+"px no-repeat",backgroundPositionX:M+"px",backgroundPositionY:N+"px",opacity:R,left:O,height:T,"z-index":3})}};var x=function(S,w){var R=S.src;var Q=(v-S.height)/2;var O=(B-S.width)/2;for(var N=0;N<F.length;N++){var P=((-N*I)+Q);var M=(N%2)==0?-B:B;a(F[N]).css({background:z+" url('"+R+"') "+O+"px "+P+"px no-repeat",backgroundPositionX:O+"px",backgroundPositionY:P+"px",opacity:w,left:M,height:I,"z-index":3})}};var J=function(N){var M=0;var w=F.length;u.each(function(O){a(this).delay(Math.random()*D).animate({opacity:1},D,"",function(){M++;if(M==w){A.setComplete(N)}})})};var y=function(N,M){var O=F.length-1;if(M==p["horz.tl"]||M==p["horz.tr"]||M==p["fade.top"]||M==p["blinds.top"]||M==p["alt.top"]){var w=0;L=setInterval(function(){a(F[w++]).animate({left:0,opacity:1,height:I},D,"",function(){if(a(this).attr("id")==O){A.setComplete(N)}});if(w==F.length){clearInterval(L)}},n)}else{var w=O;L=setInterval(function(){a(F[w--]).animate({left:0,opacity:1,height:I},D,"",function(){if(a(this).attr("id")==0){A.setComplete(N)}});if(w<0){clearInterval(L)}},n)}};G()}function k(bk,bg){var aH=bg.num_display;var S=bg.padding;var ae=bg.screen_width;var a6=bg.screen_height;var ab=bg.thumb_width;var Y=bg.thumb_height;var bd=bg.thumb_margin;var O=bg.image_nav_circ;var a9=bg.thumb_nav_circ;var aj=bg.thumb_tooltip;var aF=bg.image_nav;var a4=bg.image_number;var aD=bg.thumb_nav;var aG=bg.pagination;var ac=bg.thumb_number;var K=bg.select_arrow;var bf=bg.mouseover_text;var aE=bg.mouseover_caption;var A=bg.mouseover_buttons;var ba=bg.text_panel_align;var a7=bg.caption_align;var be=bg.auto_rotate;var av=be;var w=bg.delay>0?bg.delay:h;var aI=bg.transition_speed>0?bg.transition_speed:s;var aY=bg.scroll_speed>0?bg.scroll_speed:m;var an=bg.vert_size>0?bg.vert_size:b;var F=bg.horz_size>0?bg.horz_size:b;var au=p[bg.transition.toLowerCase()];if(au==undefined){au=p.fade}var R;var C;var aw;var N;var aN;var ah;var a2;var Q;var bi;var t;var H;var aB;var M;var aX=null;var J=false;var aV="curr-thumb";var aK=a(".wt-gallery",bk);var D=aK.find(".thumbnails");var bl=D.find(">ul");var L=bl.find(">li");var ai=L.find(">div:first");var aU=aK.find(".main-screen");var z=aK.find("#main-img");var ad;var G=aK.find("#prev-btn");var aZ=aK.find("#next-btn");var ap=aK.find(".desc");var al;var ag=aK.find(".info-pane");var x=aK.find(".c-panel");var E=aK.find("#thumbs-back");var aC=aK.find("#thumbs-fwd");var aO=aK.find(".lower-panel");var V=aK.find(".pagination");var a5=aK.find(".thumb-info");var v=aK.find(".preloader");var B;this.$el=bk;this.init=function(){ah=0;a2=0;R=L.size();if(R<aH){aH=R}aN=R-aH;aw=0;N=aN;ax();bj();at();var bm;var bn=aU.outerHeight()+x.outerHeight();if(aU.outerWidth()>=x.outerWidth()){bm=aU.outerWidth()}else{bm=x.outerWidth()}aK.css({width:bm,height:bn,padding:S}).hover(af,am);H=new c(this,ae,a6,an,Q,aI);aB=new j(this,ae,a6,F,Q,aI);aS();ao(ah);a1()};this.setComplete=function(bm){W(bm);z.attr("src",bm.src);aL()};this.addToScreen=function(bm){aU.find(">a:first").append(bm)};var ax=function(){Q=aU.css("background-color");aU.css({width:ae,height:a6});z.css("background-color",Q);aU.append("<img id='bg-img' src='assets/spacer.png'/>");ad=aU.find("#bg-img");ad.css("background-color",Q);aR();a0();v.css({top:(a6-v.outerHeight())/2,left:(ae-v.outerWidth())/2})};var a0=function(){G=aK.find("#prev-btn");aZ=aK.find("#next-btn");if(aF){G.css({top:(a6-G.height())/2,display:"block"}).click(bc).mousedown(X);aZ.css({top:(a6-aZ.height())/2,display:"block"}).click(ar).mousedown(X);if(A){G.css({left:-G.width()});aZ.css({left:ae});aU.hover(a8,bh)}else{G.css({left:0});aZ.css({left:ae-aZ.width()})}}else{G.css({display:"none"});aZ.css({display:"none"})}};var a8=function(){G.stop().animate({left:0},l);aZ.stop().animate({left:ae-aZ.width()},l)};var bh=function(){G.stop().animate({left:-G.width()},l);aZ.stop().animate({left:ae},l)};var aR=function(){var bn;var bm;if(bf){if(ba==e){bn={bottom:-ap.outerHeight()};bm={top:-ag.outerHeight()}}else{bn={top:-ap.outerHeight()};bm={bottom:-ag.outerHeight()}}aU.hover(aP,aQ)}else{if(ba==e){bn={bottom:0};bm={top:0}}else{bn={top:0};bm={bottom:0}}}ap.css(bn);ag.css(bm);var bp=ap.outerWidth()-ap.width();ap.width(ae-bp);aU.append("<div class='tmp-desc'></div>");al=aU.find(".tmp-desc");al.width(ap.width());if(a4){var bo=ag.outerWidth()-ag.width();ag.width(ae-bo)}else{ag.css({display:"none"})}};var aP=function(){J=true;var bm=(ap.height()!=0)?0:ap.height()-ap.outerHeight();if(ba==o){ap.stop(true,true).animate({top:bm},l);ag.stop(true,true).animate({bottom:0},l)}else{ap.stop(true,true).animate({bottom:bm},l);ag.stop(true,true).animate({top:0},l)}};var aQ=function(){J=false;if(ba==o){ap.stop(true,true).animate({top:-ap.outerHeight()},l);ag.stop(true,true).animate({bottom:-ag.outerHeight()},l)}else{ap.stop(true,true).animate({bottom:-ap.outerHeight()},l);ag.stop(true,true).animate({top:-ag.outerHeight()},l)}};var aJ=function(){var bm=a(this).find(">p:first");if(a7==e){bm.stop().animate({bottom:0},l)}else{bm.stop().animate({top:0},l)}};var aT=function(){var bm=a(this).find(">p:first");if(a7==e){bm.stop().animate({bottom:-bm.outerHeight()},l)}else{bm.stop().animate({top:-bm.outerHeight()},l)}};var bj=function(){ai.css({width:ab,height:Y});L.css({"margin-right":bd});C=L.outerWidth(true);D.width((aH*ai.outerWidth())+((aH-1)*bd));bl.width(R*C);L.click(function(){ah=a(this).index();ao(ah);return false});var bm=ai.find("img");ai.find("img").each(function(bn){if(this.complete&&this.width>0){Z(this)}else{a(this).load(y)}});if(aj){ai.find(">p:first").css("display","none");aK.append("<div id='tooltip'></div>");B=aK.find("#tooltip");ai.hover(bb,ay).mousemove(I)}else{ai.each(function(bo){var bn=a(this).find(">p:first");if(a7==e){if(aE){bn.css({bottom:-bn.outerHeight()})}else{bn.css({bottom:0})}}else{if(aE){bn.css({top:-bn.outerHeight()})}else{bn.css({top:0})}}});if(aE){ai.hover(aJ,aT)}else{ai.hover(function(bn){a(this).addClass("thumb-over")},function(bn){a(this).removeClass("thumb-over")})}}};var at=function(){if(!K){aV="curr-plain"}if(aD&&R>aH){var bn=(L.outerHeight(true)-ai.outerHeight());var bm=ai.outerHeight();E.css({height:bm,"margin-top":bn}).click(a3).mousedown(X);aC.css({height:bm,"margin-top":bn}).click(aA).mousedown(X)}else{E.css({display:"none",width:0,height:0});aC.css({display:"none",width:0,height:0})}ak();x.width(D.outerWidth()+E.outerWidth()+aC.outerWidth());x.height(D.outerHeight()+aO.outerHeight(true))};var ak=function(){aO.css({width:D.outerWidth(),"margin-left":E.outerWidth(),"margin-right":aC.outerWidth()});if(aG&&R>aH){var bo=Math.ceil(R/aH);var bm="";for(var bn=0;bn<bo;bn++){bm+="<span class='circle-btn'></span>"}V.append(bm);V.find("span.circle-btn").click(aM);V.css({width:aO.width()})}else{aG=false;V.css({display:"none",width:0,height:0,padding:0})}if(!ac){a5.css({display:"none"});if(!aG){aO.css({height:0}).hide()}}};var bc=function(){if(ah>0){ah=ah-1}else{if(O){ah=R-1}else{return}}ao(ah);aa(ah);return false};var ar=function(){if(ah<R-1){ah=ah+1}else{if(O){ah=0}else{return}}ao(ah);aa(ah);return false};var a3=function(){if(N<aN){var bm=aN-N;if(bm>=aH){bm=aH}N+=bm;aw-=bm;a2+=bm*C}else{if(a9){N=0;aw=aN;a2=-aN*C}else{return}}bl.stop(true,true).animate({left:a2},aY);a1();return false};var aA=function(){if(aw<aN){var bm=aN-aw;if(bm>=aH){bm=aH}aw+=bm;N-=bm;a2-=bm*C}else{if(a9){aw=0;N=aN;a2=0}else{return}}bl.stop(true,true).animate({left:a2},aY);a1();return false};var aa=function(bo){var bm=Math.floor(bo/aH);var bn=bm*aH;if(bn>=aN){bn=aN}aw=bn;N=aN-bn;a2=-bn*C;bl.stop(true,true).animate({left:a2},aY);a1()};var a1=function(){var bm=Math.ceil(aw/aH);V.find("span").removeClass("circlefill-btn");V.find("span:nth-child("+(bm+1)+")").addClass("circlefill-btn");az()};var az=function(){var bm=Math.abs(a2/C);var bn=bm+aH;a5.html((bm+1)+" - "+bn+" of "+R);if(!a9){if(bm>0){E.css({opacity:1,cursor:"pointer"})}else{E.css({opacity:d,cursor:"default"})}if(bn<R){aC.css({opacity:1,cursor:"pointer"})}else{aC.css({opacity:d,cursor:"default"})}}};var aM=function(){var bm=a(this).index();var bn=bm*aH;if(bn>=aN){bn=aN}aw=bn;N=aN-bn;a2=-bn*C;bl.stop(true,true).animate({left:a2},aY);a1();return false};var U=function(){P();ah=(ah<R-1)?ah+1:0;ao(ah);aa(ah)};var af=function(){av=false;P()};var am=function(){av=true;aL()};var bb=function(bo){var bn=a(this).find(">p:first");if(bn.length>0){var bm=a(this).find(">p:first").html();if(bm!=""){B.html(bm);var bp=aK.offset();B.css({top:bo.pageY+q,left:bo.pageX}).delay(f).show(0)}}};var ay=function(bm){B.stop().hide()};var I=function(bm){var bn=aK.offset();B.css({top:bm.pageY+q,left:bm.pageX})};var X=function(){return false};var T=function(bp){var bm;al.html(bp);var bn=al.height();if(bf&&!J){ap.stop();bm=(ba==o)?{height:bn,top:-al.outerHeight()}:{height:bn,bottom:-al.outerHeight()};ap.css(bm).html(bp)}else{ap.html("");var bo=(bn!=0)?0:ap.height()-ap.outerHeight();bm=(ba==o)?{height:bn,top:bo}:{height:bn,bottom:bo};ap.stop().animate(bm,"slow",function(){a(this).html(bp)})}};var ao=function(bp){var bs=D.find("li:nth-child("+(bp+1)+")");var bq=bs.find("div.data>p").html();var bm=bs.find("div.data>a").attr("href");var bo=bs.find("div.data>a").attr("target");var bn=bs.attr("tran");M=(bn==undefined||p[bn]==undefined)?au:p[bn];L.removeClass(aV);bs.addClass(aV);ag.html((bp+1)+" / "+R);if(!O){if(bp==0){G.css({opacity:0,cursor:"default"})}else{G.css({opacity:1,cursor:"pointer"})}if(bp==(R-1)){aZ.css({opacity:0,cursor:"default"})}else{aZ.css({opacity:1,cursor:"pointer"})}}if(bm!=undefined&&bm!=""){aU.find("a").css({cursor:"pointer"}).attr({href:bm,target:bo})}else{aU.find("a").css({cursor:"default"}).attr({href:"#",target:"_self"})}T(bq);if(t[bp]){v.hide();aq(t[bp])}else{var br=new Image();a(br).attr("src",bi[bp]);if(!br.complete){v.show();a(br).load(function(){v.hide();t[bp]=jQuery.extend(true,{},this);aq(br)}).error(function(){alert("Error loading image")})}else{v.hide();t[bp]=jQuery.extend(true,{},br);aq(t[bp])}}};var aq=function(bm){H.clear();aB.clear();if(M==p.random){M=Math.floor(Math.random()*(p.length-2))}if(M==p.none){u(bm)}else{if(M==p.fade){aW(bm)}else{if(M<p["horz.tl"]){H.displayContent(bm,M)}else{aB.displayContent(bm,M)}}}};var u=function(bm){W(bm);z.attr("src",bm.src).show(0,function(){aL()})};var aW=function(bm){ad.css({top:z.css("top"),left:z.css("left"),"padding-top":z.css("padding-top"),"padding-bottom":z.css("padding-bottom"),"padding-left":z.css("padding-left"),"padding-right":z.css("padding-right")}).attr("src",z.attr("src")).show();z.hide();W(bm);z.attr("src",bm.src).fadeIn(aI,function(){aL()})};var W=function(bq){var bo=Math.round((a6-bq.height)/2);var bn=Math.round((ae-bq.width)/2);var bs=0;var br=0;var bp=0;var bm=0;if(bo>0){bp=bo}else{if(bo<0){bs=bo}}if(bn>0){bm=bn}else{if(bn<0){br=bn}}z.css({top:bs,left:br,"padding-top":bp,"padding-bottom":bp,"padding-left":bm,"padding-right":bm})};var aS=function(){t=new Array(R);bi=new Array(R);ai.each(function(bo){bi[bo]=a(this).find(">a").attr("href")});var bn=0;var bm=new Image();a(bm).attr("src",bi[bn]);a(bm).load(function(){t[bn]=jQuery.extend(true,{},this);bn++;if(bn<bi.length){a(this).attr("src",bi[bn])}}).error(function(){bn++;if(bn<bi.length){a(this).attr("src",bi[bn])}})};var y=function(){Z(this)};var Z=function(bn){var bm;var bo=a(bn);if(bo.outerWidth()>ab){bm=bo.outerHeight()/bo.outerWidth();bo.width(ab);bo.height(bm*ab)}if(bo.outerHeight()>Y){bm=bo.outerWidth()/bo.outerHeight();bo.width(bm*Y);bo.height(Y)}bo.css({left:Math.round((ab-bo.outerWidth())/2),top:Math.round((Y-bo.outerHeight())/2)})};var aL=function(){if(be&&av&&aX==null){aX=setTimeout(U,w)}};var P=function(){clearTimeout(aX);aX=null}}var g={num_display:5,padding:10,screen_width:700,screen_height:394,thumb_width:125,thumb_height:70,thumb_margin:5,text_panel_align:o,caption_align:e,auto_rotate:true,delay:h,image_nav_circ:true,thumb_nav_circ:true,thumb_tooltip:false,image_nav:true,image_number:true,thumb_nav:true,pagination:true,thumb_number:true,select_arrow:true,mouseover_text:false,mouseover_caption:false,mouseover_buttons:true,transition:"fade",transition_speed:s,scroll_speed:m,vert_size:b,horz_size:b};var i=a.extend({},g,r);return this.each(function(){var t=new k(a(this),i);t.init()})}})(jQuery);